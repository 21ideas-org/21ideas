<!doctype html><html lang=ru-RU dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="SegWit - это способ увеличения размера биткоин-блока с сохранением обратной совместимости (то есть это был софтфорк, а не хардфорк)"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta name=lightning content="tony@bitcoin-herald.org"><meta property="og:title" content="Глава 5: SegWit"><meta property="og:description" content="SegWit - это способ увеличения размера биткоин-блока с сохранением обратной совместимости (то есть это был софтфорк, а не хардфорк)"><meta property="og:type" content="article"><meta property="og:url" content="https://new.21ideas.org/vojna-za-razmer-bloka/glava-5/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-10-04T09:10:33+03:00"><title>Глава 5: SegWit | 21ideas</title><link rel=manifest href=/manifest.json><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon media="(prefers-color-scheme: dark)" sizes=180x180 href=/apple-touch-icon-dark.png><link rel=icon type=image/png media="(prefers-color-scheme: dark)" sizes=32x32 href=/favicon-32x32-dark.png><link rel=icon type=image/png media="(prefers-color-scheme: dark)" sizes=16x16 href=/favicon-16x16-dark.png><link rel=stylesheet href=/book.min.db61ef15f84d2e03fa1b5d4dd6c3ca4b3cfa326aaddb4fb24c9a8556f65e866a.css integrity="sha256-22HvFfhNLgP6G11N1sPKSzz6Mmqt20+yTJqFVvZehmo=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/ru.search.min.75f195ea65cde6ebac5381843cd821d012dcd3ce1c28925991b5f3df7c861ab2.js integrity="sha256-dfGV6mXN5uusU4GEPNgh0BLc084cKJJZkbXz33yGGrI=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><picture><source srcset=/svg/logo_white.svg media="(prefers-color-scheme: dark)"><img src=/svg/logo_black.svg alt=Logo></picture>
<span>21ideas</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Поиск aria-label=Поиск maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-512cd8dd047d9194f8b56568c3c961b4 class=toggle>
<label for=section-512cd8dd047d9194f8b56568c3c961b4 class="flex justify-between"><a href=/start/>Старт</a></label><ul><li><a href=/kurs/>Биткоин от А до Я</a></li></ul></li><li><input type=checkbox id=section-4f53cbff6ac5b0f9cfca5f1f9f3b991c class=toggle>
<label for=section-4f53cbff6ac5b0f9cfca5f1f9f3b991c class="flex justify-between"><a href=/theory/>Теория</a></label><ul><li><input type=checkbox id=section-c4ddad175f26bb1d35909363eff62296 class=toggle>
<label for=section-c4ddad175f26bb1d35909363eff62296 class="flex justify-between"><a href=/economics/>Экономика</a></label><ul><li><input type=checkbox id=section-a51542c01e6fb6da0be0947ec8232131 class=toggle>
<label for=section-a51542c01e6fb6da0be0947ec8232131 class="flex justify-between"><a href=/pzv/>Постепенно, затем внезапно</a></label><ul><li><a href=/pzv/postepenno-zatem-vnezapno/>Введение</a></li><li><a href=/pzv/bitkoin-nelzya-skopirovat/>Биткоин нельзя скопировать</a></li><li><a href=/pzv/bitkoin-ne-slishkom-volatilen/>Биткоин не слишком волатилен</a></li><li><a href=/pzv/bitkoin-ne-tratit-energiyu-zrya/>Биткоин не тратит энергию зря</a></li><li><a href=/pzv/bitkoin-ne-slishkom-medlennyj/>Биткоин не слишком медленный</a></li><li><a href=/pzv/bitkoin-eto-ispravit/>Биткоин это исправит</a></li><li><a href=/pzv/bitkoin-ne-blokchejn/>Биткоин, не блокчейн</a></li><li><a href=/pzv/bitkoin-nichem-ne-podkreplen/>Биткоин ничем не подкреплен?</a></li><li><a href=/pzv/bitkoin-ne-finansovaya-piramida/>Биткоин — не финансовая пирамида</a></li><li><a href=/pzv/bitkoin-ne-mozhet-byt-zabanen/>Биткоин не может быть забанен</a></li><li><a href=/pzv/bitkoin-ne-dlya-prestupnikov/>Биткоин не для преступников</a></li><li><a href=/pzv/bitkoin-obescenivaet-ostalnye-dengi/>Биткоин обесценивает остальные деньги</a></li><li><a href=/pzv/bitkoin-zov-k-edineniyu/>Биткоин — зов к единению</a></li><li><a href=/pzv/bitkoin-eto-zdravyj-smysl/>Биткоин — это здравый смысл</a></li><li><a href=/pzv/bitkoin-velikaya-definancializaciya/>Биткоин — великая дефинанcиализация</a></li></ul></li><li><input type=checkbox id=section-f77a8c77e4ac28a47562f512f5567bcb class=toggle>
<label for=section-f77a8c77e4ac28a47562f512f5567bcb class="flex justify-between"><a href=/sb/>Становление Биткоина</a></label><ul><li><a href=/sb/stanovlenie-intro/>Становление Биткоина: Краткий обзор истории от пещерных людей до сети lightning</a></li><li><a href=/sb/stanovlenie-1/>Становление Биткоина Часть 1. О времени</a></li><li><a href=/sb/stanovlenie-2/>Становление Биткоина Часть 2. О людях</a></li><li><a href=/sb/stanovlenie-3/>Становление Биткоина Часть 3. Знакомьтесь: деньги</a></li><li><a href=/sb/stanovlenie-4/>Становление Биткоина Часть 4. Поворот не туда (в поисках нового плана)!</a></li><li><a href=/sb/stanovlenie-5/>Становление Биткоина Часть 5. Цифровая редкость</a></li><li><a href=/sb/stanovlenie-6/>Становление Биткоина Часть 6. Цифровые контракты</a></li><li><a href=/sb/stanovlenie-7/>Становление Биткоина Часть 7: Недостающие части головоломки</a></li></ul></li><li><a href=/bitkoin-ne-vredit-okruzhayushej-srede/>Биткоин и окружающая среда</a></li><li><a href=/sem-setevyh-effektov-bitkoina/>Семь сетевых эффектов Биткоина</a></li><li><a href=/hozyaeva-i-raby-deneg/>Хозяева и рабы денег</a></li><li><a href=/strukturnaya-perestrojka/>Структурная перестройка</a></li><li><a href=/v-zashchitu-deflyacii/>В защиту дефляции</a></li><li><a href=/sravnenie-monetarnyh-standartov/>Сравнение монетарных стандартов</a></li><li><a href=/negativnye-effekty-neftedollara/>Негативные внешние эффекты нефтедоллара</a></li><li><a href=/raskoshelivaemsya/>Раскошеливаемся (Shelling Out): Происхождение денег</a></li><li><a href=/bitcoin-i-ritmy-istorii/>Биткоин и ритмы истории</a></li><li><a href=/bitcoin-i-internet-cikly-hopfa/>Биткоин и интернет-циклы Хопфа</a></li><li><a href=/dengi-blokchejny-i-socialnaya-masshtabiruemost/>Деньги, блокчейны и социальная масштабируемость</a></li></ul></li><li><input type=checkbox id=section-e83ea293497a2ab861101ccfc99a8ecc class=toggle>
<label for=section-e83ea293497a2ab861101ccfc99a8ecc class="flex justify-between"><a href=/security/>Безопасность</a></label><ul><li><a href=/kak-hranit-kljuchi/>Биткоин-кошельки. Зачем и как хранить свои приватные ключи</a></li></ul></li><li><input type=checkbox id=section-e9552bdc5e196adcf41f88d9180bebda class=toggle>
<label for=section-e9552bdc5e196adcf41f88d9180bebda class="flex justify-between"><a href=/privacy/>Приватность</a></label><ul><li><a href=/privacy/luchshie-praktiki/>Как сохранить приватность?</a></li><li><a href=/privacy/no-kyc/>Никаких KYC, берегите персональные данные</a></li></ul></li><li><input type=checkbox id=section-e49feff8bdc4c8d9840548f297831fbc class=toggle>
<label for=section-e49feff8bdc4c8d9840548f297831fbc class="flex justify-between"><a href=/protocol/>Протокол</a></label><ul><li><a href=/kto-kontroliruet-bitkoin-kor/>Кто контролирует Bitcoin Core?</a></li><li><a href=/vechnaja-borba/>Вечная борьба Биткоина</a></li><li><a href=/ob-udobstve-vzaimodejstvija-s-bitcoinom/>Об удобстве взаимодействия с Биткоином</a></li><li><a href=/bitcoin-zoloto-2-0/>Биткоин: цифровое золото или пиринговая наличность?</a></li><li><a href=/upravlenie-bitcoin/>Управление Биткоином</a></li><li><a href=/doverennye-tretyi-storony/>Доверенные третьи стороны — это бреши в системе безопасности</a></li><li><a href=/21-million-ne-podlezhit-obsuzhdeniyu/>21 миллион не подлежит обсуждению</a></li><li><a href=/proof-of-work/>Proof of Work: доказательство проделанной работы</a></li><li><a href=/proof-of-stake%E2%80%93eto-skam/>Proof of Stake – это скам</a></li></ul></li><li><input type=checkbox id=section-8509d6019544d659ccbc67af32e91aea class=toggle>
<label for=section-8509d6019544d659ccbc67af32e91aea class="flex justify-between"><a href=/history/>История</a></label><ul><li><input type=checkbox id=section-51bacf4bb315fc63174fdbbc90ffb95d class=toggle>
<label for=section-51bacf4bb315fc63174fdbbc90ffb95d class="flex justify-between"><a href=/gf/>Генезис-файлы</a></label><ul><li><a href=/gf/genesis-intro/>Генезис-файлы. Пролог: день, когда криптография изменилась навсегда</a></li><li><a href=/gf/genesis-1/>Генезис-файлы. Часть I: eCash Дэвида Чаума и зарождение мечты шифропанков</a></li><li><a href=/gf/genesis-2/>Генезис-файлы. Часть II: Hashcash или как Адам Бэк разработал сердце Биткоина</a></li><li><a href=/gf/genesis-3/>Генезис-файлы. Часть III: Если у Биткоина был прототип, то это были b-money Вэя Дая</a></li><li><a href=/gf/genesis-4/>Генезис-файлы. Часть IV: Создавая Bit Gold, Сабо был в двух шагах от изобретения Биткоина</a></li><li><a href=/gf/genesis-5/>Генезис-файлы. Часть V: Как поиски цифровой наличности привели Хэла Финни к созданию RPOW (и не только)</a></li></ul></li><li><a href=/hal-finney/>Хэл Финни — жизнь и смерть легенды движения шифропанков</a></li><li><a href=/bitcoin-reformaciya/>Биткоин-Реформация</a></li></ul></li><li><input type=checkbox id=section-042f7e1a0906e66d4ceaeeb231b37175 class=toggle>
<label for=section-042f7e1a0906e66d4ceaeeb231b37175 class="flex justify-between"><a href=/philosophy/>Философия</a></label><ul><li><a href=/ne-shitcoin/>Биткоин, не щиткоин</a></li><li><a href=/neotemlemye-prava-sobstvennosti/>Неотъемлемые права собственности. Закон, язык, деньги и мораль Биткоина</a></li><li><a href=/manifest-kriptoanarhista/>Манифест криптоанархиста</a></li><li><a href=/manifest-shifropanka/>Манифест шифропанка</a></li><li><a href=/tyulpannaya-lihoradka/>Биткоин — современная голландская тюльпанная лихорадка?</a></li><li><a href=/vse-moshenniki/>Все — мошенники</a></li></ul></li><li><input type=checkbox id=section-66beb9b5ed04619b43509a5a9298b3a2 class=toggle>
<label for=section-66beb9b5ed04619b43509a5a9298b3a2 class="flex justify-between"><a href=/future/>Будущее</a></label><ul><li><input type=checkbox id=section-df24c55b3b01a044f159006399dd3f62 class=toggle>
<label for=section-df24c55b3b01a044f159006399dd3f62 class="flex justify-between"><a href=/ba/>Биткоин-астрономия</a></label><ul><li><a href=/ba/1/>Постгипербиткоинизация</a></li><li><a href=/ba/2/>Миллион крошечных миров</a></li><li><a href=/ba/3/>Первый контакт</a></li></ul></li><li><a href=/apokalipsis/>Сможет ли Биткоин пережить апокалипсис?</a></li></ul></li><li><input type=checkbox id=section-a71a3aee31fa8f939d269196bdc16bfd class=toggle>
<label for=section-a71a3aee31fa8f939d269196bdc16bfd class="flex justify-between"><a href=/lightning/>Лайтнинг</a></label><ul><li><a href=/chto-takoe-laitning/>Что такое Лайтнинг?</a></li><li><a href=/lajtning-adresa/>Лайтнинг-адреса</a></li><li><a href=/privatnost-v-lajtning/>Приватность в сети Lightning</a></li><li><a href=/likvidnost-v-lajtning/>Руководство по управлению ликвидностью в сети Lightning</a></li></ul></li></ul></li><li><input type=checkbox id=section-a6b5e5f811434cb992fdebac0e1d7718 class=toggle>
<label for=section-a6b5e5f811434cb992fdebac0e1d7718 class="flex justify-between"><a href=/practice/>Практика</a></label><ul><li><input type=checkbox id=section-5a7a56ff2c706814b0747555f55b45b2 class=toggle>
<label for=section-5a7a56ff2c706814b0747555f55b45b2 class="flex justify-between"><a href=/practice/buy/>Покупка</a></label><ul><li><a href=/hodl-hodl/>Покупка биткоина без KYC на Hodl Hodl</a></li></ul></li><li><input type=checkbox id=section-a2a499e8fa40193bb85003cabaff5d49 class=toggle>
<label for=section-a2a499e8fa40193bb85003cabaff5d49 class="flex justify-between"><a href=/practice/hodl/>Хранение</a></label><ul><li><a href=/electrum/>Кошелек Электрум</a></li><li><a href=/blue/>Кошелек Blue</a></li><li><a href=/seedsigner/>SeedSigner: оффрлайн-крепость для ваших биткоинов</a></li><li><a href=/coldcard/>Что такое Coldcard?</a></li></ul></li><li><input type=checkbox id=section-4e34fd6dae27eeab9274b5e370a300a7 class=toggle>
<label for=section-4e34fd6dae27eeab9274b5e370a300a7 class="flex justify-between"><a href=/practice/interact/>Взаимодействие</a></label><ul><li><a href=/practice/guide/>Используем биткоин</a></li><li><a href=/practice/bitcoin-noda/>Каждому следует запустить собственную Биткоин-ноду!</a></li></ul></li><li><input type=checkbox id=section-0af442a82e8087438ae3e5d932bfcd3c class=toggle>
<label for=section-0af442a82e8087438ae3e5d932bfcd3c class="flex justify-between"><a href=/practice/lightning/>Лайтнинг на практике</a></label><ul><li><a href=/phoenix/>Кошелек Phoenix</a></li><li><a href=/lnbits/>LNbits</a></li><li><a href=/alby-i-nostr/>Alby и Nostr</a></li></ul></li></ul></li><li><input type=checkbox id=section-4f9efbc916a788429edff50248f79330 class=toggle checked>
<label for=section-4f9efbc916a788429edff50248f79330 class="flex justify-between"><a href=/rabbithole/>Кроличья нора</a></label><ul><li><input type=checkbox id=section-dd34bc6fc687d6e6fb62acabc34277a6 class=toggle checked>
<label for=section-dd34bc6fc687d6e6fb62acabc34277a6 class="flex justify-between"><a href=/books/>Книги</a></label><ul><li><input type=checkbox id=section-e3198834b11fdb517332c04453209400 class=toggle>
<label for=section-e3198834b11fdb517332c04453209400 class="flex justify-between"><a href=/izobretaem-bitkoin/>Изобретаем Биткоин</a></label><ul><li><a href=/izobretaem-bitkoin/vstuplenie/>Вступление</a></li><li><a href=/izobretaem-bitkoin/glava-1/>Глава 1: Что такое Биткоин</a></li><li><a href=/izobretaem-bitkoin/glava-2/>Глава 2: Отказываемся от посредника</a></li><li><a href=/izobretaem-bitkoin/glava-3/>Глава 3: Proof of Work</a></li><li><a href=/izobretaem-bitkoin/glava-4/>Глава 4: Майнинг</a></li><li><a href=/izobretaem-bitkoin/glava-5/>Глава 5: Обеспечение безопасности реестра</a></li><li><a href=/izobretaem-bitkoin/glava-6/>Глава 6: Форки и атаки 51%</a></li><li><a href=/izobretaem-bitkoin/glava-7/>Глава 7: Учетные записи, не идентифицирующие личность</a></li><li><a href=/izobretaem-bitkoin/glava-8/>Глава 8: Кто устанавливает правила?</a></li><li><a href=/izobretaem-bitkoin/glava-9/>Глава 9: Что дальше?</a></li></ul></li><li><input type=checkbox id=section-f289993761aca4a4b180363fe368f984 class=toggle>
<label for=section-f289993761aca4a4b180363fe368f984 class="flex justify-between"><a href=/suverenitet-posredstvom-matematiki/>Суверенитет посредством математики</a></label><ul><li><a href=/suverenitet-posredstvom-matematiki/intro/>Предисловие</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-1/>Глава 1: ВСЯ НАША ЖИЗНЬ — ТОРГОВЛЯ</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-2/>Глава 2: ФИНАНСОВЫЙ АТЕИЗМ</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-3/>Глава 3: ДОВЕРЧИВОСТЬ</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-4/>Глава 4: НЕПОРОЧНОЕ ЗАЧАТИЕ</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-5/>Глава 5: PROOF OF WORK</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-6/>Глава 6: РЕДКОСТЬ</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-7/>Глава 7: ХОДЛ ОН</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-8/>Глава 8: ИЗМЕНЕНИЕ ПРАВИЛ</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-9/>Глава 9: ДЕНЬГИ КАК АКСЕЛЕРАТОР</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-10/>Глава 10: ОКРУЖАЮЩАЯ СРЕДА</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-11/>Глава 11: НОВАЯ ФОРМА ЖИЗНИ</a></li><li><a href=/suverenitet-posredstvom-matematiki/glava-12/>Глава 12: БУДУЩЕЕ</a></li><li><a href=/suverenitet-posredstvom-matematiki/mysli/>РАЗМЫШЛЕНИЯ</a></li></ul></li><li><input type=checkbox id=section-c0b499506f23962152d4aaeec11bead1 class=toggle checked>
<label for=section-c0b499506f23962152d4aaeec11bead1 class="flex justify-between"><a href=/vojna-za-razmer-bloka/>Война за размер блока</a></label><ul><li><a href=/vojna-za-razmer-bloka/glava-1/>Глава 1: Первый удар</a></li><li><a href=/vojna-za-razmer-bloka/glava-2/>Глава 2: Начало</a></li><li><a href=/vojna-za-razmer-bloka/glava-3/>Глава 3: Масштабирование I Монреаль</a></li><li><a href=/vojna-za-razmer-bloka/glava-4/>Глава 4: Масштабирование II Гонконг</a></li><li><a href=/vojna-za-razmer-bloka/glava-5/ class=active>Глава 5: SegWit</a></li><li><a href=/vojna-za-razmer-bloka/glava-6/>Глава 6: Сеть Lightning</a></li><li><a href=/vojna-za-razmer-bloka/glava-7/>Глава 7: Bitcoin Classic</a></li><li><a href=/vojna-za-razmer-bloka/glava-8/>Глава 8: Круглый стол в Гонконге</a></li><li><a href=/vojna-za-razmer-bloka/glava-9/>Глава 9: Фейковый Сатоши</a></li><li><a href=/vojna-za-razmer-bloka/glava-10/>Глава 10: DAO</a></li><li><a href=/vojna-za-razmer-bloka/glava-11/>Глава 11: Масштабирование III Милан</a></li><li><a href=/vojna-za-razmer-bloka/glava-12/>Глава 12: Bitcoin Unlimited</a></li><li><a href=/vojna-za-razmer-bloka/glava-13/>Глава 13: Биржи</a></li><li><a href=/vojna-za-razmer-bloka/glava-14/>Глава 14: ASICBoost</a></li><li><a href=/vojna-za-razmer-bloka/glava-15/>Глава 15: Логово драконов</a></li><li><a href=/vojna-za-razmer-bloka/glava-16/>Глава 16: Litecoin</a></li><li><a href=/vojna-za-razmer-bloka/glava-17/>Глава 17: UASF – Активируемый пользователями софтфорк</a></li><li><a href=/vojna-za-razmer-bloka/glava-18/>Глава 18: Нью-Йоркское соглашение</a></li><li><a href=/vojna-za-razmer-bloka/glava-19/>Глава 19: Bitcoin Cash</a></li><li><a href=/vojna-za-razmer-bloka/glava-20/>Глава 20: SegWit2x</a></li><li><a href=/vojna-za-razmer-bloka/glava-21/>Глава 21: Победа</a></li></ul></li><li><input type=checkbox id=section-e5860353bd62663c37a33bec590802ab class=toggle>
<label for=section-e5860353bd62663c37a33bec590802ab class="flex justify-between"><a href=/bychij-kejs-dlya-bitcoin/>Бычий кейс для Биткоина</a></label><ul><li><a href=/bychij-kejs-dlya-bitcoin/predislovie/>Предисловие от Майкла Сэйлора</a></li><li><a href=/bychij-kejs-dlya-bitcoin/prolog/>Пролог</a></li><li><a href=/bychij-kejs-dlya-bitcoin/glava-1/>Глава 1: Генезис и происхождение денег</a></li><li><a href=/bychij-kejs-dlya-bitcoin/glava-2/>Глава 2: Атрибуты хорошего средства сбережения</a></li><li><a href=/bychij-kejs-dlya-bitcoin/glava-3/>Глава 3: Эволюция денег</a></li><li><a href=/bychij-kejs-dlya-bitcoin/glava-4/>Глава 4: Форма монетизации</a></li><li><a href=/bychij-kejs-dlya-bitcoin/glava-5/>Глава 5: Новая денежная база</a></li><li><a href=/bychij-kejs-dlya-bitcoin/epilog/>Эпилог</a></li></ul></li></ul></li><li><a href=/videos/>Видео</a><ul></ul></li></ul></li><li><input type=checkbox id=section-d90442343f58c582906ebc7e255e7116 class=toggle>
<label for=section-d90442343f58c582906ebc7e255e7116 class="flex justify-between"><a href=/contribute/>Принять участие</a></label><ul><li><a href=/syntax/>Оформление статей</a></li><li><a href=/github/>Как добавить статью?</a></li><li><a href=/obsidian/>Публикация статей через Obsidian</a></li></ul></li></ul><ul><li><a href=/posts/>Блог</a></li><li><a href=https://github.com/21ideas-org/21ideas.org target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Глава 5: SegWit</strong>
<label for=toc-control></label></div></header><article class=markdown><table><thead><tr><th style=text-align:center><img src=/img/vrb-437.jpeg#center alt=cover></th></tr></thead><tbody><tr><td style=text-align:center><em>Фото <a href="https://unsplash.com/@_everaldo?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Everaldo Coelho</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></em></td></tr></tbody></table><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Оглавление</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><a href=/vojna-za-razmer-bloka>Главная страница</a></p><p><a href=/vojna-za-razmer-bloka/glava-1>Глава 1: Первый удар</a></p><p><a href=/vojna-za-razmer-bloka/glava-2>Глава 2: Начало</a></p><p><a href=/vojna-za-razmer-bloka/glava-3>Глава 3: Масштабирование I Монреаль</a></p><p><a href=/vojna-za-razmer-bloka/glava-4>Глава 4: Масштабирование II Гонконг</a></p><p><a href=/vojna-za-razmer-bloka/glava-5>Глава 5: SegWit</a></p><p><a href=/vojna-za-razmer-bloka/glava-6>Глава 6: Сеть Lightning</a></p><p><a href=/vojna-za-razmer-bloka/glava-7>Глава 7: Bitcoin Classic</a></p><p><a href=/vojna-za-razmer-bloka/glava-8>Глава 8: Круглый стол в Гонконге</a></p><p><a href=/vojna-za-razmer-bloka/glava-9>Глава 9: Фейковый Сатоши</a></p><p><a href=/vojna-za-razmer-bloka/glava-10>Глава 10: DAO</a></p><p><a href=/vojna-za-razmer-bloka/glava-11>Глава 11: Масштабирование III Милан</a></p><p><a href=/vojna-za-razmer-bloka/glava-12>Глава 12: Bitcoin Unlimited</a></p><p><a href=/vojna-za-razmer-bloka/glava-13>Глава 13: Биржи</a></p><p><a href=/vojna-za-razmer-bloka/glava-14>Глава 14: ASICBoost</a></p><p><a href=/vojna-za-razmer-bloka/glava-15>Глава 15: Логово драконов</a></p><p><a href=/vojna-za-razmer-bloka/glava-16>Глава 16: Litecoin</a></p><p><a href=/vojna-za-razmer-bloka/glava-17>Глава 17: UASF – Активируемый пользователями софтфорк</a></p><p><a href=/vojna-za-razmer-bloka/glava-18>Глава 18: Нью-Йоркское соглашение</a></p><p><a href=/vojna-za-razmer-bloka/glava-19>Глава 19: Bitcoin Cash</a></p><p><a href=/vojna-za-razmer-bloka/glava-20>Глава 20: SegWit2x</a></p><p><a href=/vojna-za-razmer-bloka/glava-21>Глава 21: Победа</a></p></div></label></div><h1 id=глава-5-segwit>Глава 5: SegWit
<a class=anchor href=#%d0%b3%d0%bb%d0%b0%d0%b2%d0%b0-5-segwit>#</a></h1><div class=youtubeWrapper><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/LBTYgMbsTME style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video" loading=lazy></iframe></div><div class=youtubeWrapper_hint><em>Помимо YouTube с аудиокнигой можно ознакомиться на популярных подкаст-площадках: <a href=https://www.21ideas.org/audio-audiobooks/>https://www.21ideas.org/audio-audiobooks/</a></em></div></div><p>В первой сессии второго дня конференции по масштабированию Биткоина в Гонконге одним из основных выступлений был доклад биткоин-разработчика Питера Вюлле - о том, что называется &ldquo;отделённое свидетельство&rdquo; (Segregated Witness или SegWit). SegWit - это способ увеличения размера биткоин-блока с сохранением обратной совместимости (то есть это был софтфорк, а не хардфорк). Биткоин-транзакция состоит из различных компонентов, одним из которых является подпись, подтверждающая трату. Эта подпись обычно является самой большой частью транзакции в зависимости от объема данных. SegWit был новым форматом транзакции, в котором подпись не нужно привычным образом включать в блок, который по-прежнему имел ограничение в 1 Мб. Клиенты, которые обновились до SegWit, увидят новый блок, содержащий эти подписи; для этих новых клиентов старый лимит размера блока в 1 МБ убрали и заменили “лимитом веса” в 4 миллиона единиц. Лимит веса был определен как четырехкратный объем данных без подписи в байтах плюс объем отделенных данных подписи в байтах. Это означало, что данные, содержащие подписи, получили дисконт при расчетах цены транзакции, но общий лимит достигал теперь около 2 Мб, и это, похоже, было ровно то, чего пользователи и хотели: увеличение лимита размера блока примерно до 2 Мб.</p><p>Биткоин-разработчик из Флориды по имени Luke-Jr продемонстрировал способ, наделяющий обновление SegWit обратной совместимостью (софтфорк). Люк считался одним из самых упертых сторонников малых блоков, а для сообщества сторонников больших блоков он был столь же ненавистен, как и Грегори Максвелл. Люк совсем не боялся выделиться из толпы своими несогласованными мнениями. Этот убежденный католик и отец семерых детей в каком-то смысле был Кассандрой технического сообщества - исключительно резким. Однако Люк явно имел очень сильное техническое понимание Биткоина, и его очевидное нелинейное мышление, обеспечивающее ему иной угол зрения на вещи, видимо, и помогло ему придумать этот финт, который другие разработчики попросту не могли бы реализовать.</p><p>Тем, кто это понимал, SegWit казался блестящим беспроигрышным предложением. Сеть может получить блоки размером 2 МБ, при этом мы избегаем проблемы несовместимости обновления. В дополнение к этому старые и новые кошельки могут беспрепятственно взаимодействовать друг с другом, и обновление оказывается совершенно необязательным: пользователи могут либо перейти на SegWit, либо продолжать использовать сеть в прежнем режиме. С точки зрения старых кошельков у SegWit-транзакций нет подписи. Однако кошелек по-прежнему видит транзакцию и признает ее действительной после включения в блокчейн. SegWit также означает, что емкость блоков потенциально может увеличиваться быстрее, чем при простом хардфорке, увеличивающем предельный размер блока, потому что не требуется ждать, пока все обновятся, и новое место в блоках можно начать использовать достаточно быстро.</p><p>SegWit выглядел не только уверенным выигрышем для Биткоина, но и блестящим, намеренным или нет, тактическим ходом сторонников малых блоков в этой войне. Предложение было настолько хорошим, что против него не было веских аргументов. Гэвину пришлось поддержать предложение SegWit, и по большей части он это и сделал <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>. Если полагать, что конференции по масштабированию были закулисным заговором с целью выиграть время на реализацию SegWit, то замысел отлично сработал! Следует отметить, что я не выдвигаю здесь этого обвинения. Кампанию сторонников крупных блоков по хардфорку следовало остановить, и жизненно важное время было выиграно. Я помню, как в те дни разговаривал с некоторыми из давних сторонников крупных блоков. Они сообщили мне, что, по их мнению, это гениальное предложение выбило у них почву из-под ног.</p><p>Конечно, все это было в теории. В гипотетическом мире, где все понимали SegWit и все действующие лица были рациональны, этот ход был блестящим. Пока участники вели спор о лимите размера блока, то SegWit упразднило лимит и заменило его, лишая спор смысла. Однако на деле все вышло не так просто. SegWit был исключительно сложным, и его почти никто не понимал. Это был первый серьезный пример того, как сторонники малых блоков переоценили интеллект своих оппонентов или, по крайней мере, переоценили способность своих оппонентов понимать аспекты информатики. Рассуждая задним числом, это предложение следовало бы просто назвать как-то вроде «увеличение блоков до 2 Мб». Вместо этого у него было очень загадочное и сбивающее с толку название, которое выглядело очень подозрительно для сторонников крупных блоков, которые хотели чего-то ясного и простого, доступного их пониманию. Сторонники крупных блоков отметили, что ход вроде как был инициирован их врагом, а им нужен был контроль над ситуацией. Они рассматривали SegWit как просто очередной способ затормозить внедрение крупных блоков. Поэтому, не особо разбираясь в SegWit, они выступили против него.</p><p>По мере того как SegWit начал набирать обороты в техническом сообществе, среди сторонников крупных блоков начали расти заблуждения и недопонимания. Эти недоразумения и слухи включали (ниже далеко не полный список) следующее:</p><ul><li>SegWit это “не настоящее” увеличение лимита размера блока, он только сжимает транзакции (действительно, не обновившиеся клиенты все еще видят SegWit-блоки, будто они размером в 1 Мб, но это также верно и для хардфорка, при котором старые узлы тоже видят обрезанные до 1 МБ блоки. С SegWit обновившиеся узлы видят блоки размером более 1 Мб, а это, предположительно, ровно то, что требуется сторонникам крупных блоков);</li><li>Биткоин основан на цепи цифровых подписей, которые SegWit удаляет, тем самым разрывая цепь и создавая угрозу безопасности;</li><li>Если майнер не обновляется для поддержки SegWit и создает блок, этот блок будет отклонен обновленными клиентами. Это увеличивает риск разделения цепи (но должно происходить только в том случае, если майнер использует специальное программное обеспечение, разработанное для разделения цепи);</li><li>Если пользователь перейдет на SegWit, он не сможет отправлять средства пользователю, который не обновился;</li><li>Обновление SegWit может быть отменено, и тогда монеты внутри выходов SegWit могут быть украдены кем угодно (однако отмена SegWit была бы уже хардфорком).</li></ul><p>Многие обвинения были бессмысленными, и поэтому сформулировать опровержение было непросто. Похоже, причина большинства заблуждений лежит в том, что большинство пользователей изначально не понимало основ биткоин-транзакций. Например, часто упоминалась фраза «адрес в формате SegWit», но у SegWit не было нового или другого формата адреса. Если люди не понимают даже обычную механику биткоин-транзакций, объяснить механику SegWit оказывается и вовсе невозможно.</p><p>SegWit оказался настолько сложным, что даже Джефф Гарзик, похоже, его не понял. Он думал, что будет “два стакана” для рынка комиссий: один — связанный со старым лимитом в 1 Мб, а другой — с новым лимитом в 4 миллиона единиц веса (weight unit) <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>. Фактически, два ограничения, размер блока и вес блока, были сконструированы таким образом, чтобы они согласовывались друг с другом и, следовательно, были эквивалентны, что обеспечивало возможность пользоваться единым стаканом. Мы не критикуем Джеффа; идея SegWit была чрезвычайно сложной для полной оценки и понимания, что оказалось ее фундаментальным недостатком. Это просто служит иллюстрацией того, что, хотя с технической точки зрения SegWit был хорошим шагом вперед, из-за его сложности доказать это биткоин-сообществу было попросту невозможно.</p><p>Помимо высокой степени сложности, против SegWit было выдвинуто и несколько обоснованных аргументов. Чтобы получить преимущества SegWit и увеличения места в блоках, кошельки пользователей требовалось обновить для поддержки нового формата транзакций. Это могло занять больше времени, чем простое увеличение лимита блока при помощи хардфорка, поскольку это не требовало изменения форматов транзакций. Однако следует отметить, что, по мере перехода на SegWit отдельных пользователей, это уже освобождает место в блоках для отстающих, которые обновляются медленнее.</p><p>Для многих сторонников малых блоков стимулирование пользователей к переходу на новый формат транзакций само по себе было одной из целей SegWit. Помимо увеличения лимита размера блока, новый формат транзакции SegWit также исправил ряд ошибок, а именно уязвимость транзакций к атакам третьими сторонами и нелинейное масштабирование операций вычисления хэша подписи. Я не буду вдаваться в подробности, но вкратце, уязвимость транзакций к атакам третьими сторонами — это проблема, которая имеет место, поскольку любой может изменить идентификатор биткоин-транзакции до того, как она будет подтверждена в цепочке блоков, оставляя при этом саму транзакцию валидной. В прошлом это вызывало проблемы для некоторых кошельков и продавцов, у которых в результате были проблемы с отслеживанием средств. По сути, это ошибка. Ее исправление было также в некоторой степени необходимо для запуска транзакционной сети второго уровня, называемой Lightning.</p><p>Нелинейное масштабирование вычислений хэша подписи означает, что по мере увеличения количества входов в транзакции количество операций хэширования, необходимых для проверки транзакции, увеличивается квадратично, а не линейно. Эта проблема масштабирования была препятствием для внедрения крупных блоков, поскольку злоумышленники могли создавать транзакции, которые требовали так много времени на проверку, что сеть могла застопориться. Эта проблема на самом деле была одной из основных причин, по которой сторонники малых блоков противодействовали увеличению лимита размера блока — злоумышленники могли использовать эту уязвимость. Атакующий может создать блок, содержащий множество таких крупных транзакций, для проверки которых обычному компьютеру может потребоваться много часов. Поэтому для многих сторонников малых блоков до устранения этой проблемы ни о каком увеличении лимита размера блока не могло быть и речи. Они высмеивали крупноблочников за самоуспокоенное игнорирование этой уязвимости, и за отсутствие параноидального мышления. И наоборот, сторонники крупных блоков, похоже, считали Биткоин почти нерушимым, или, как они часто выражались, антихрупким. Сторонники малых блоков объяснили надежность системы упорным трудом и осторожностью команды разработчиков, но сообщество не ценило это в должной мере. Для большинства крупноблочников ключевым приоритетом был именно лимит размера блока, а исправление подобных ошибок, по их мнению, было не настолько актуально.</p><p>Тем не менее, использование SegWit исправляет эти ошибки. С точки зрения сторонников малых блоков это было важно. С SegWit можно сохранять старый лимит в 1 Мб для старых, плохо масштабирующихся транзакций с ошибками, и в то же время иметь больше места для новых транзакций без ошибок. С инженерной точки зрения SegWit выглядел просто фантастикой. Проблема, опять же, заключалась в сложности; большинство биткоин-пользователей не подозревало об этих проблемах и не беспокоилось о них. Между тем Биткоин — это больше, чем просто инженерия и информатика. Это также социальная система, живая платежная, экономическая и финансовая система. При взгляде с этого ракурса смысл SegWit был куда менее очевидным.</p><p>Хотя идея SegWit была представлена на конференции в декабре 2015 года в Гонконге, ее еще нужно было реализовать, проанализировать, протестировать и обсудить. Только в ноябре 2016 года SegWit был наконец внедрен в Bitcoin Core — долгое ожидание продолжалось более десяти месяцев. Несмотря на то, что SegWit был внедрен в Bitcoin Core, это не означало, что люди могли сразу его использовать. SegWit означал изменение или, точнее, ужесточение правил протокола, софтфорк. На этот случай существовала методология активации. Выбранный механизм активации заключался в том, что майнеры должны были сигнализировать о поддержке. Если 95 процентов блоков сигнализировали о поддержке в течение интервала корректировки сложности, равного 2016 блокам, софтфорк активировался после еще одного двухнедельного льготного периода. Если бы по прошествии 12 месяцев активация не произошла, процесс обновления был бы прерван.</p><p>Для сторонников крупных блоков такая методология активации была неуместной. Они утверждали, что никогда ни в чем нельзя прийти к согласию на 95 процентов. Это позволит любой небольшой коалиции майнеров, владеющей всего пятью процентами хэшрейта, заблокировать запуск обновления. Некоторые сторонники крупных блоков сочли выбор 95-процентного порога активации как способ потянуть время, и предпочли 75-процентный порог в Bitcoin XT. Сторонники крупных блоков были склонны рассматривать флаги майнеров как голосование, как процесс принятия решений. В этом контексте 95 процентов не имели особого смысла. С другой стороны, сторонники малых блоков рассматривали флаги как сигнальный механизм или средство безопасности. По их мнению, пользователи сами определялись с правилами протокола, а сигналы майнеров были необходимы лишь для обеспечения безопасного перехода на новые правила. Это не считалось политическим процессом голосования.</p><p>К тому же значение в 95 процентов было выбрано неспроста. Все три последних софтфорка Биткоина были активированы с использованием того же 95-процентного порога: BIP 66 (ограничение подписей кодировкой DER) в июле 2015 года; BIP 65 (внедрение команды временной блокировки для трат) в декабре 2015; BIP 68, BIP 112 и BIP 113, три разных софтфорка, которые активировались одновременно в июле 2016 года. Авторы SegWit всего лишь решили продолжить использование этой (или незначительно модифицированной) методологии активации. Следует отметить, что предыдущие софтфорки внедрялись не идеально. Активация BIP 66 в июле 2015 года вызвала разделение блокчейна на участке в несколько блоков, так как майнеры, похоже, хоть и просигнализировали о том, что их программное обеспечение обновлено, так и не смогли обновиться до софтфорка. Обновление в июле 2016 года также заняло больше времени, чем ожидалось, и сообществу пришлось лоббировать майнинг-пулы, чтобы те сигнализировали о его поддержке. Майнинг-пулы, выступавшие в дискуссии на стороне крупных блоков, медленнее обновлялись до этого, не имевшего отношения к спору, софтфорка, возможно, из-за своего общего разочарования в Bitcoin Core.</p><p>Учитывая вышеупомянутую историю и новую напряженность в сообществе, к моменту выпуска SegWit, имела место значительная неопределенность касательно того, будут ли майнеры его активировать. Действительно, один из майнинговых пулов, ViaBTC, заявил, что не будет поддерживать обновление, еще до того, как содержащий его клиент был выпущен <sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>. Хотя SegWit и был настоящей инженерной магией, он не особо помог в ослаблении напряженности конфликта.</p><hr><p><a href=https://blog.bitmex.com/the-blocksize-war-chapter-5-scaling-ii-segwit/>Оригинал</a></p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Оглавление</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><a href=/vojna-za-razmer-bloka>Главная страница</a></p><p><a href=/vojna-za-razmer-bloka/glava-1>Глава 1: Первый удар</a></p><p><a href=/vojna-za-razmer-bloka/glava-2>Глава 2: Начало</a></p><p><a href=/vojna-za-razmer-bloka/glava-3>Глава 3: Масштабирование I Монреаль</a></p><p><a href=/vojna-za-razmer-bloka/glava-4>Глава 4: Масштабирование II Гонконг</a></p><p><a href=/vojna-za-razmer-bloka/glava-5>Глава 5: SegWit</a></p><p><a href=/vojna-za-razmer-bloka/glava-6>Глава 6: Сеть Lightning</a></p><p><a href=/vojna-za-razmer-bloka/glava-7>Глава 7: Bitcoin Classic</a></p><p><a href=/vojna-za-razmer-bloka/glava-8>Глава 8: Круглый стол в Гонконге</a></p><p><a href=/vojna-za-razmer-bloka/glava-9>Глава 9: Фейковый Сатоши</a></p><p><a href=/vojna-za-razmer-bloka/glava-10>Глава 10: DAO</a></p><p><a href=/vojna-za-razmer-bloka/glava-11>Глава 11: Масштабирование III Милан</a></p><p><a href=/vojna-za-razmer-bloka/glava-12>Глава 12: Bitcoin Unlimited</a></p><p><a href=/vojna-za-razmer-bloka/glava-13>Глава 13: Биржи</a></p><p><a href=/vojna-za-razmer-bloka/glava-14>Глава 14: ASICBoost</a></p><p><a href=/vojna-za-razmer-bloka/glava-15>Глава 15: Логово драконов</a></p><p><a href=/vojna-za-razmer-bloka/glava-16>Глава 16: Litecoin</a></p><p><a href=/vojna-za-razmer-bloka/glava-17>Глава 17: UASF – Активируемый пользователями софтфорк</a></p><p><a href=/vojna-za-razmer-bloka/glava-18>Глава 18: Нью-Йоркское соглашение</a></p><p><a href=/vojna-za-razmer-bloka/glava-19>Глава 19: Bitcoin Cash</a></p><p><a href=/vojna-za-razmer-bloka/glava-20>Глава 20: SegWit2x</a></p><p><a href=/vojna-za-razmer-bloka/glava-21>Глава 21: Победа</a></p></div></label></div><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://twitter.com/gavinandresen/status/800405563909750784>https://twitter.com/gavinandresen/status/800405563909750784</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://www.slideshare.net/jgarzik/bitcoin-status-report-onchain-scaling-aug-2016>https://www.slideshare.net/jgarzik/bitcoin-status-report-on-chain-scaling-aug-2016</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://bitcoinmagazine.com/articles/segregated-witness-officially-introduced-with-release-of-bitcoin-core-1477611260>https://bitcoinmagazine.com/articles/segregated-witness-officially-introduced-with-release-of-bitcoin-core-1477611260</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>